var BackupConfigurationController=function(t){var n=this;n.view=t};var BackupConfiguration=React.createClass({displayName:"BackupConfiguration",componentDidMount:function(){this.emit("index/title","Backup your data")},ok:function(t){t&&t.preventDefault();var n=this.password.value;if(n===undefined||n===null||n===""){alert("Please, insert password");return}client.configurationManager.dump(n),this.emit("page/change")},render:function(){var t=this;return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},"Insert your password"),React.createElement("div",{className:"col-md-4"},React.createElement("input",{type:"password",ref:function(n){return t.password=n}})),React.createElement("div",{className:"col-md-4"},React.createElement("button",{className:"btn",onClick:this.ok},"OK"))))}});var CreateConfigurationController=function(t){var n=this;n.view=t,n.saveWallet=function(t,n){client.userManager.save(t,n)}};var CreateConfiguration=React.createClass({displayName:"CreateConfiguration",title:"Create New Wallet",getInitialState:function(){return{words:["burro","pancrazio","ginopaoli","testo","camera","interruttore","casalinga","biglietto","suono"]}},toWords:function(t){t&&t.preventDefault();var n=this.getInitialState();n.wordsOK=!1,n.passwordsOK=!1,this.setState(n)},toCheck:function(t){t&&t.preventDefault();var n=this.getInitialState();n.wordsOK=!0,n.passwordsOK=!1,this.setState(n)},toPasswords:function(t){t&&t.preventDefault();var n=this.textarea.value.split(" ");if(n.length!==this.state.words.length){alert("Please, insert the words in the correct order");return}for(var r=0;r<n.length;r++)if(n[r]!==this.state.words[r]){alert("Please, insert the words in the correct order");return}var i=this.getInitialState();i.wordsOK=!0,i.passwordsOK=!0,this.setState(i)},check:function(t){t&&t.preventDefault();var n=this.password.value,r=this.repeatPassword.value;if(n===""||n!==r){alert("Password don't match");return}this.controller.saveWallet(this.state.words,n),this.emit("page/change")},renderWords:function(){return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h2",null,"Please, copy these words and ",React.createElement("b",null,"DON'T FORGET THEM!")))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("p",{className:"words"},this.state.words.join(" ")))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("button",{className:"btn",onClick:this.toCheck},"OK"))))},renderCheck:function(){var t=this;return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h2",null,"Please, repeat the order of the words"))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("textarea",{ref:function(n){return t.textarea=n},className:"words"}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("button",{className:"btn",onClick:this.toWords},"Back"),React.createElement("button",{className:"btn",onClick:this.toPasswords},"Check"))))},renderPasswords:function(){var t=this;return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h2",null,"Please, insert a password and confirm"))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("input",{type:"password",ref:function(n){return t.password=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("input",{type:"password",ref:function(n){return t.repeatPassword=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("button",{className:"btn",onClick:this.toCheck},"Back"),React.createElement("button",{className:"btn",onClick:this.check},"Check"))))},render:function(){return React.createElement("div",null,!this.state.wordsOK&&this.renderWords(),this.state.wordsOK&&!this.state.passwordsOK&&this.renderCheck(),this.state.wordsOK&&this.state.passwordsOK&&this.renderPasswords())}});var ImportConfigurationController=function(t){var n=this;n.view=t};var ImportConfiguration=React.createClass({displayName:"ImportConfiguration",title:"Import Configuration",importMnemonic:function(t){t&&t.preventDefault();if(this.mnemonic.value===""){alert("Insert Mnemocim Phrase");return}if(!this.checkPassword(this.mnemonicPassword.value,this.mnemonicRetype.value))return;client.userManager.save(this.mnemonic.value,this.mnemonicPassword.value),this.emit("page/change")},importPrivateKey:function(t){t&&t.preventDefault();if(this.privateKey.value===""){alert("Insert Private Key");return}if(!this.checkPassword(this.privateKeyPassword.value,this.privateKeyRetype.value))return;this.emit("page/change")},browseJSONFile:function(t){t&&t.preventDefault();var n=window.require("electron").remote.dialog.showOpenDialog({defaultPath:window.require("electron").remote.app.getPath("desktop"),filters:[{name:"JSON File",extensions:["json"]}],options:{openDirectory:!1,multiSelections:!1}});if(n===undefined||n===null)return;this.setState({JSONFile:n})},importJSON:function(t){t&&t.preventDefault();if(!this.state||this.state.JSONFile===""){alert("Select a valid JSON File first");return}if(!this.checkPassword(this.JSONPassword.value,this.JSONRetype.value))return;this.emit("page/change")},checkPassword:function(t,n){return t===undefined||t===null||t===""?(alert("Please, insert password"),!1):t!==n?(alert("Password don't match"),!1):!0},browserSEEDBackupFile:function(t){t&&t.preventDefault(),client.configurationManager.import()&&this.emit("page/change")},render:function(){var t=this;return React.createElement("div",null,React.createElement("div",{className:"row section"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},"Import your SEEDVenture Backup")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("button",{className:"btn",onClick:this.browserSEEDBackupFile},"Browse...")))),React.createElement("div",{className:"row section"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},"Insert your mnemonic phrase:")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("textarea",{ref:function(n){return t.mnemonic=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},"Type your password:")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("input",{type:"password",ref:function(n){return t.mnemonicPassword=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("input",{type:"password",ref:function(n){return t.mnemonicRetype=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("button",{className:"btn",onClick:this.importMnemonic},"Import")))),React.createElement("div",{className:"row section"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},"Insert your private key:")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("input",{ref:function(n){return t.privateKey=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},"Type your password:")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("input",{type:"password",ref:function(n){return t.privateKeyPassword=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("input",{type:"password",ref:function(n){return t.privateKeyRetype=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("button",{className:"btn",onClick:this.importPrivateKey},"Import")))),React.createElement("div",{className:"row section"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},"Insert your JSON File:")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("button",{className:"btn",onClick:this.browseJSONFile},"Browse...")),React.createElement("div",{className:"col-md-6"},React.createElement("span",null,this.state&&this.state.JSONFile))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},"Type your password:")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("input",{type:"password",ref:function(n){return t.JSONPassword=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("input",{type:"password",ref:function(n){return t.JSONRetype=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("button",{className:"btn",onClick:this.importJSON},"Import")))))}});var MoveConfigurationController=function(t){var n=this;n.view=t};var MoveConfiguration=React.createClass({displayName:"MoveConfiguration",componentDidMount:function(){this.emit("index/title","Move your data")},ok:function(t){t&&t.preventDefault();var n=this.password.value;if(n===undefined||n===null||n===""){alert("Please, insert password");return}client.configurationManager.move(n),this.emit("page/change")},render:function(){var t=this;return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},"Insert your password"),React.createElement("div",{className:"col-md-4"},React.createElement("input",{type:"password",ref:function(n){return t.password=n}})),React.createElement("div",{className:"col-md-4"},React.createElement("button",{className:"btn",onClick:this.ok},"OK"))))}});var DetailController=function(t){var n=this;n.view=t};var Detail=React.createClass({displayName:"Detail",componentDidMount:function(){this.emit("index/title",this.props.element.name)},render:function(){return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("p",null,this.props.element.description))))}});var IndexController=function(t){var n=this;n.view=t};var Index=React.createClass({displayName:"Index",requiredModules:["spa/products","spa/user","spa/unlock","spa/myProducts"],getDefaultSubscriptions:function(){var t=this;return{"page/change":this.changePage,"index/title":function(n){return t.setState({title:n})}}},changePage:function(t,n){!t&&(t=null),!n&&(n=null);if(!t)this.setState({title:null,element:null,props:null});else{var r=this;ReactModuleLoader.load({modules:t.prototype.requiredModules||[],scripts:t.prototype.requiredScripts||[],callback:function(){r.setState({title:t.prototype.title||(t.prototype.getTitle?t.prototype.getTitle():null),element:t,props:n})}})}},getDefaultRenderer:function(){return client.configurationManager.hasUser()?client.configurationManager.hasUnlockedUser()?MyProducts:Unlock:Products},render:function(){var t=this;return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h1",null,this.state&&this.state.element&&React.createElement("a",{className:"back",href:"javascript:;",onClick:function(){return t.changePage()}},"<"," "," "," "),this.state&&this.state.title)),React.createElement("div",{className:"col-md-6"},React.createElement(User,null))),React.createElement(this.state&&this.state.element?this.state.element:this.getDefaultRenderer(),this.state&&this.state.props?this.state.props:null))}});var MyProductsController=function(t){var n=this;n.view=t,n.loadMyProducts=function(){$.get({url:"data/mock/myProducts.json",dataType:"json",cache:!1,success:function(t){n.view.setState({products:t})}})}};var MyProducts=React.createClass({displayName:"MyProducts",requiredModules:["spa/product"],componentDidMount:function(){this.emit("index/title","My Baskets"),this.controller.loadMyProducts()},render:function(){return React.createElement("div",null,(!this.state||!this.state.products)&&React.createElement(Loader,{size:"x2"}),this.state&&this.state.products&&this.state.products.map(function(e,t,n){if(t%2!==0)return;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(Product,{element:e})),React.createElement("div",{className:"col-md-6"},t+1<n.length&&React.createElement(Product,{element:n[t+1]})))}))}});var ProductController=function(t){var n=this;n.view=t};var Product=React.createClass({displayName:"Product",requiredModules:["spa/detail"],onClick:function(t){t.preventDefault(),this.emit("page/change",Detail,{element:this.props.element})},render:function(){return React.createElement("div",{onClick:this.onClick},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},"Name: ",this.props.element.name)),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},"Incubator: ",this.props.element.incubator)),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},"Description: ",this.props.element.description)),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},"Latest Quotation: ",this.props.element.value," SEED")))}});var ProductsController=function(t){var n=this;n.view=t,n.loadProducts=function(){$.get({url:"data/mock/products.json",dataType:"json",cache:!1,success:function(t){n.view.setState({products:t})}})}};var Products=React.createClass({displayName:"Products",requiredModules:["spa/product"],componentDidMount:function(){this.emit("index/title","Baskets"),this.controller.loadProducts()},render:function(){return React.createElement("div",null,(!this.state||!this.state.products)&&React.createElement(Loader,{size:"x2"}),this.state&&this.state.products&&this.state.products.map(function(e,t,n){if(t%2!==0)return;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(Product,{element:e})),React.createElement("div",{className:"col-md-6"},t+1<n.length&&React.createElement(Product,{element:n[t+1]})))}))}});var UnlockController=function(t){var n=this;n.view=t,n.tryUnlock=function(t){try{client.configurationManager.unlockUser(t)}catch(n){return!1}return!0}};var Unlock=React.createClass({displayName:"Unlock",unlock:function(t){t&&t.preventDefault();var n=this.password.value;n===""&&alert("Please, insert password");if(!this.controller.tryUnlock(n)){alert("Password is wrong");return}},askForget:function(t){t&&t.preventDefault(),this.emit("user/askForget")},render:function(){var t=this;return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("h2",null,"Please, type your password to unlock your account"))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("input",{type:"password",ref:function(n){return t.password=n}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("button",{className:"btn",onClick:this.unlock},"Unlock"),React.createElement("button",{className:"btn",onClick:this.askForget},"Forget"))))}});var UserController=function(t){var n=this;n.view=t,n.forgetUser=function(){client.userManager.forget(),n.view.emit("page/change")}};var User=React.createClass({displayName:"User",requiredModules:["spa/configuration/import","spa/configuration/create","spa/configuration/backup","spa/configuration/move"],getDefaultSubscriptions:function(){return{"user/askForget":this.askForget}},importConfiguration:function(t){t.preventDefault(),this.emit("page/change",ImportConfiguration)},createConfiguration:function(t){t.preventDefault(),this.emit("page/change",CreateConfiguration)},backupConfiguration:function(t){t.preventDefault(),this.emit("page/change",BackupConfiguration)},moveConfiguration:function(t){t.preventDefault(),this.emit("page/change",MoveConfiguration)},askForget:function(t){t&&t.preventDefault&&t.preventDefault(),confirm("All your data will be lost, do you want to continue?")&&(this.controller.forgetUser(),this.emit("page/change"))},renderUserWallet:function(){return[React.createElement("span",null," ",client.userManager.user.wallet,"... "),React.createElement("a",{href:"javascript:;",onClick:this.backupConfiguration},"Backup my configuration"),React.createElement("a",{href:"javascript:;",onClick:this.moveConfiguration},", move it"),React.createElement("span",null," or "),React.createElement("a",{href:"javascript:;",onClick:this.askForget},"Forget me")]},render:function(){return React.createElement("div",null,React.createElement("h4",null,"Welcome",client.userManager.user&&this.renderUserWallet(),!client.configurationManager.hasUser()&&!client.configurationManager.hasUnlockedUser()&&[React.createElement("span",null," guest, "),React.createElement("a",{href:"javascript:;",onClick:this.importConfiguration},"import your configuration"),React.createElement("span",null," or "),React.createElement("a",{href:"javascript:;",onClick:this.createConfiguration},"create a new one")]))}});!window.preloadedScripts && (window.preloadedScripts=[]);Array.prototype.push.apply(window.preloadedScripts,['spa/configuration/backup/controller.jsx','spa/configuration/backup/style.min.css','spa/configuration/backup/view.jsx','spa/configuration/create/controller.jsx','spa/configuration/create/style.min.css','spa/configuration/create/view.jsx','spa/configuration/import/controller.jsx','spa/configuration/import/style.min.css','spa/configuration/import/view.jsx','spa/configuration/move/controller.jsx','spa/configuration/move/style.min.css','spa/configuration/move/view.jsx','spa/detail/controller.jsx','spa/detail/style.min.css','spa/detail/view.jsx','spa/index/controller.jsx','spa/index/style.min.css','spa/index/view.jsx','spa/myProducts/controller.jsx','spa/myProducts/style.min.css','spa/myProducts/view.jsx','spa/product/controller.jsx','spa/product/style.min.css','spa/product/view.jsx','spa/products/controller.jsx','spa/products/style.min.css','spa/products/view.jsx','spa/unlock/controller.jsx','spa/unlock/style.min.css','spa/unlock/view.jsx','spa/user/controller.jsx','spa/user/style.min.css','spa/user/view.jsx']);